{"remainingRequest":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\src\\components\\Login.vue","mtime":1603339664550},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1601483722000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1601483722000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1601483722000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1601483740000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvZGFya3MvRG9jdW1lbnRzL0dpdEh1Yi9TSUlMdjMvc2lpbC1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIHVzZXI6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIGVzdGFkbzogIkEiLAogICAgICAgIGlkdGlwb191c3VhcmlvOiAyCiAgICAgIH0sCiAgICAgIGxvZ2luOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydhY2Nlc3NUb2tlbiddKSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFtdKSksIHt9LCB7CiAgICAvL01ldG9kbyByZWdpc3RybyBkZSB1c3VhcmlvcyBjb24gdG9rZW4gbGlzdG8KICAgIGZldGNoVXN1YXJpb3M6IGZ1bmN0aW9uIGZldGNoVXN1YXJpb3MoKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIG1lLiRodHRwLnBvc3QoIiIuY29uY2F0KG1lLiR1cmwsICIvdXNlcnMiKSwgbWUudXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBtZS5kaWFsb2cgPSBmYWxzZTsKICAgICAgICBhbGVydCgiUkVHaXN0cmFkbyBjb24gZXhpdG8iKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICAvL0xvZ2luIGRlIHVzdWFyaW8gcG9yIG1lZGlvIGRlIHRva2VuIGZhbHRhIG1lam9yYXIgZWwgbGEgYXV0ZW50aWNhY2lvbiBhZ3JlZ2FyIGVzdGFkbwogICAgLy9wYXJhIGltcGxlbWVudGFyIGxhIGxvZ2ljYQogICAgbG9naW5Vc3VhcmlvOiBmdW5jdGlvbiBsb2dpblVzdWFyaW8oKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIG1lLiRodHRwLnBvc3QoIiIuY29uY2F0KG1lLiR1cmwsICIvbG9naW4iKSwgbWUubG9naW4pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIHZhciB4ID0gcmVzcG9uc2UuZGF0YS50b2tlbjsKICAgICAgICAgIG1lLiRzdG9yZS5zdGF0ZS50b2tlbiA9IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHgpOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICBjb25zb2xlLmxvZyh4KTsKICAgICAgICAgIGFsZXJ0KCJCaWVudmVuaWRvIGFsIHNpc3RlbWEiKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHZhciB4ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgICBoZWFkZXIgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyB4CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25zb2xlLmxvZyh4KTsKICAgICAgbWUuJGh0dHAuZ2V0KCIiLmNvbmNhdChtZS4kdXJsLCAiL2xvZ291dCIpLCBoZWFkZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgYWxlcnQoIkFkaW9zIik7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div>\r\n\r\n      <v-container>\r\n        <v-row justify=\"space-around\">\r\n          <v-card width=\"600 \" class=\"p-10\">\r\n            <v-card-title><h1>Login</h1></v-card-title>\r\n              <v-text-field\r\n                  append-icon=\"mdi-folder-outline\"\r\n                  v-model=\"login.email\"\r\n                  @keyup=\"errorsNombre = []\"\r\n                  :rules=\"[v => !!v || 'Correo es requerido']\"\r\n                  label=\"Email\"\r\n                  required\r\n                  \r\n                  ></v-text-field>  \r\n              <v-text-field\r\n                v-model=\"login.password\"\r\n                color=\"purple darken-2\"\r\n                label=\"Password\"\r\n                required\r\n              ></v-text-field>\r\n            <v-btn \r\n            @click=\"loginUsuario()\">\r\n                Enviar\r\n            </v-btn>\r\n\r\n            <v-card-actions>\r\n\r\n            <v-btn\r\n             color=\"purple darken-2\"\r\n              primary\r\n              @click=\"dialog = true\"\r\n            >\r\n              Registrase\r\n            </v-btn>\r\n            <v-btn \r\n            @click=\"logout()\">\r\n                SALIR\r\n            </v-btn>\r\n            </v-card-actions>\r\n            \r\n        </v-card>\r\n        \r\n    </v-row>\r\n  \r\n\r\n         \r\n</v-container>\r\n      <!--Hola aqui esta el modal de registro de usuarios // Implementar lo aprendido en diseÃ±o-->\r\n      <template>\r\n      <v-row justify=\"center\">\r\n        \r\n\r\n        <v-dialog\r\n          v-model=\"dialog\"\r\n          max-width=\"290\"\r\n        >\r\n          <v-card>\r\n            <v-card-title class=\"headline\">\r\n              Formulario de registro\r\n            </v-card-title>\r\n\r\n            <v-card-text>\r\n             <v-text-field\r\n                \r\n                v-model=\"user.name\"\r\n                color=\"purple darken-2\"\r\n                label=\"Name\"\r\n                required\r\n              ></v-text-field>\r\n              <v-text-field\r\n                \r\n                v-model=\"user.email\"\r\n                color=\"purple darken-2\"\r\n                label=\"correo\"\r\n                required\r\n              ></v-text-field>\r\n              <v-text-field\r\n                v-model=\"user.password\"\r\n                color=\"purple darken-2\"\r\n                label=\"Password\"\r\n                required\r\n              ></v-text-field>\r\n            \r\n            </v-card-text>\r\n\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn \r\n               @click=\"fetchUsuarios()\">\r\n                Enviar\r\n              </v-btn>\r\n\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-dialog>\r\n      </v-row>\r\n    </template>\r\n\r\n  </div>\r\n  \r\n</template>\r\n<script>\r\nimport {mapGetters} from 'vuex'\r\nimport {mapActions} from 'vuex'\r\n  export default {\r\n    \r\n    data () {\r\n      \r\n      \r\n      return {\r\n        \r\n         dialog: false,\r\n         user: {\r\n             name: \"\",\r\n             email: \"\",\r\n             password: \"\",\r\n             estado: \"A\",\r\n             idtipo_usuario: 2 \r\n         },\r\n         login:{\r\n             email: \"\",\r\n             password: \"\",\r\n         },\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'accessToken'\r\n       \r\n        \r\n      ])\r\n    },\r\n    \r\n    \r\n    methods: {\r\n      ...mapActions([\r\n      \r\n    ]),\r\n      \r\n\r\n      \r\n        //Metodo registro de usuarios con token listo\r\n        fetchUsuarios() {\r\n            let me = this;\r\n            \r\n            me.$http\r\n            .post(`${me.$url}/users`, me.user )\r\n            .then(function(response){\r\n              me.dialog = false\r\n              alert(\"REGistrado con exito\")\r\n                console.log(response.data)\r\n            })\r\n            .catch(function(error){\r\n              console.log(error);\r\n            });\r\n          },\r\n      //Login de usuario por medio de token falta mejorar el la autenticacion agregar estado\r\n      //para implementar la logica\r\n        loginUsuario(){\r\n        let me = this;\r\n        \r\n            me.$http\r\n            .post(`${me.$url}/login`, me.login)\r\n            .then(function(response){\r\n              if(response.status==200){\r\n                let x = response.data.token;\r\n                me.$store.state.token = localStorage.setItem('token',x);\r\n                console.log(response.data);\r\n                console.log(x);\r\n                alert(\"Bienvenido al sistema\");\r\n              }\r\n              \r\n            })\r\n            .catch(function(error){\r\n              console.log(error);\r\n            });\r\n          },\r\n           logout(){\r\n             let x = localStorage.getItem('token');\r\n            let me = this,\r\n            header = {\r\n              headers: {\r\n                \"Authorization\": \"Bearer \"+ x,\r\n              },\r\n            };\r\n            \r\n            console.log(x)\r\n             me.$http.get(`${me.$url}/logout`,header)\r\n            .then(function(response){ \r\n               if(response.status==200){ \r\n                  localStorage.clear();           \r\n                  alert(\"Adios\");\r\n                console.log(response.data);\r\n               }                        \r\n            })\r\n            .catch(function(error){              \r\n              console.log(error);\r\n            });\r\n          },\r\n          \r\n\r\n\r\n           \r\n        \r\n    },\r\n    \r\n\r\n    mounted(){\r\n     \r\n     \r\n    },\r\n  };\r\n</script>"],"sourceRoot":"src/components"}]}