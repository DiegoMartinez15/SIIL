{"remainingRequest":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\src\\components\\Login.vue","mtime":1603339664550},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1601483722000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1601483722000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1601483722000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1601483740000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcEdldHRlcnN9IGZyb20gJ3Z1ZXgnDQppbXBvcnQge21hcEFjdGlvbnN9IGZyb20gJ3Z1ZXgnDQogIGV4cG9ydCBkZWZhdWx0IHsNCiAgICANCiAgICBkYXRhICgpIHsNCiAgICAgIA0KICAgICAgDQogICAgICByZXR1cm4gew0KICAgICAgICANCiAgICAgICAgIGRpYWxvZzogZmFsc2UsDQogICAgICAgICB1c2VyOiB7DQogICAgICAgICAgICAgbmFtZTogIiIsDQogICAgICAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgICAgICAgICBlc3RhZG86ICJBIiwNCiAgICAgICAgICAgICBpZHRpcG9fdXN1YXJpbzogMiANCiAgICAgICAgIH0sDQogICAgICAgICBsb2dpbjp7DQogICAgICAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgICAgIH0sDQogICAgICB9Ow0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgICAnYWNjZXNzVG9rZW4nDQogICAgICAgDQogICAgICAgIA0KICAgICAgXSkNCiAgICB9LA0KICAgIA0KICAgIA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIC4uLm1hcEFjdGlvbnMoWw0KICAgICAgDQogICAgXSksDQogICAgICANCg0KICAgICAgDQogICAgICAgIC8vTWV0b2RvIHJlZ2lzdHJvIGRlIHVzdWFyaW9zIGNvbiB0b2tlbiBsaXN0bw0KICAgICAgICBmZXRjaFVzdWFyaW9zKCkgew0KICAgICAgICAgICAgbGV0IG1lID0gdGhpczsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbWUuJGh0dHANCiAgICAgICAgICAgIC5wb3N0KGAke21lLiR1cmx9L3VzZXJzYCwgbWUudXNlciApDQogICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7DQogICAgICAgICAgICAgIG1lLmRpYWxvZyA9IGZhbHNlDQogICAgICAgICAgICAgIGFsZXJ0KCJSRUdpc3RyYWRvIGNvbiBleGl0byIpDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9LA0KICAgICAgLy9Mb2dpbiBkZSB1c3VhcmlvIHBvciBtZWRpbyBkZSB0b2tlbiBmYWx0YSBtZWpvcmFyIGVsIGxhIGF1dGVudGljYWNpb24gYWdyZWdhciBlc3RhZG8NCiAgICAgIC8vcGFyYSBpbXBsZW1lbnRhciBsYSBsb2dpY2ENCiAgICAgICAgbG9naW5Vc3VhcmlvKCl7DQogICAgICAgIGxldCBtZSA9IHRoaXM7DQogICAgICAgIA0KICAgICAgICAgICAgbWUuJGh0dHANCiAgICAgICAgICAgIC5wb3N0KGAke21lLiR1cmx9L2xvZ2luYCwgbWUubG9naW4pDQogICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7DQogICAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cz09MjAwKXsNCiAgICAgICAgICAgICAgICBsZXQgeCA9IHJlc3BvbnNlLmRhdGEudG9rZW47DQogICAgICAgICAgICAgICAgbWUuJHN0b3JlLnN0YXRlLnRva2VuID0gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJyx4KTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4KTsNCiAgICAgICAgICAgICAgICBhbGVydCgiQmllbnZlbmlkbyBhbCBzaXN0ZW1hIik7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSwNCiAgICAgICAgICAgbG9nb3V0KCl7DQogICAgICAgICAgICAgbGV0IHggPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsNCiAgICAgICAgICAgIGxldCBtZSA9IHRoaXMsDQogICAgICAgICAgICBoZWFkZXIgPSB7DQogICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIisgeCwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHgpDQogICAgICAgICAgICAgbWUuJGh0dHAuZ2V0KGAke21lLiR1cmx9L2xvZ291dGAsaGVhZGVyKQ0KICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpeyANCiAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cz09MjAwKXsgDQogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgYWxlcnQoIkFkaW9zIik7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7DQogICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9LA0KICAgICAgICAgIA0KDQoNCiAgICAgICAgICAgDQogICAgICAgIA0KICAgIH0sDQogICAgDQoNCiAgICBtb3VudGVkKCl7DQogICAgIA0KICAgICANCiAgICB9LA0KICB9Ow0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;;AAGA;;;AAGA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div>\r\n\r\n      <v-container>\r\n        <v-row justify=\"space-around\">\r\n          <v-card width=\"600 \" class=\"p-10\">\r\n            <v-card-title><h1>Login</h1></v-card-title>\r\n              <v-text-field\r\n                  append-icon=\"mdi-folder-outline\"\r\n                  v-model=\"login.email\"\r\n                  @keyup=\"errorsNombre = []\"\r\n                  :rules=\"[v => !!v || 'Correo es requerido']\"\r\n                  label=\"Email\"\r\n                  required\r\n                  \r\n                  ></v-text-field>  \r\n              <v-text-field\r\n                v-model=\"login.password\"\r\n                color=\"purple darken-2\"\r\n                label=\"Password\"\r\n                required\r\n              ></v-text-field>\r\n            <v-btn \r\n            @click=\"loginUsuario()\">\r\n                Enviar\r\n            </v-btn>\r\n\r\n            <v-card-actions>\r\n\r\n            <v-btn\r\n             color=\"purple darken-2\"\r\n              primary\r\n              @click=\"dialog = true\"\r\n            >\r\n              Registrase\r\n            </v-btn>\r\n            <v-btn \r\n            @click=\"logout()\">\r\n                SALIR\r\n            </v-btn>\r\n            </v-card-actions>\r\n            \r\n        </v-card>\r\n        \r\n    </v-row>\r\n  \r\n\r\n         \r\n</v-container>\r\n      <!--Hola aqui esta el modal de registro de usuarios // Implementar lo aprendido en diseÃ±o-->\r\n      <template>\r\n      <v-row justify=\"center\">\r\n        \r\n\r\n        <v-dialog\r\n          v-model=\"dialog\"\r\n          max-width=\"290\"\r\n        >\r\n          <v-card>\r\n            <v-card-title class=\"headline\">\r\n              Formulario de registro\r\n            </v-card-title>\r\n\r\n            <v-card-text>\r\n             <v-text-field\r\n                \r\n                v-model=\"user.name\"\r\n                color=\"purple darken-2\"\r\n                label=\"Name\"\r\n                required\r\n              ></v-text-field>\r\n              <v-text-field\r\n                \r\n                v-model=\"user.email\"\r\n                color=\"purple darken-2\"\r\n                label=\"correo\"\r\n                required\r\n              ></v-text-field>\r\n              <v-text-field\r\n                v-model=\"user.password\"\r\n                color=\"purple darken-2\"\r\n                label=\"Password\"\r\n                required\r\n              ></v-text-field>\r\n            \r\n            </v-card-text>\r\n\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn \r\n               @click=\"fetchUsuarios()\">\r\n                Enviar\r\n              </v-btn>\r\n\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-dialog>\r\n      </v-row>\r\n    </template>\r\n\r\n  </div>\r\n  \r\n</template>\r\n<script>\r\nimport {mapGetters} from 'vuex'\r\nimport {mapActions} from 'vuex'\r\n  export default {\r\n    \r\n    data () {\r\n      \r\n      \r\n      return {\r\n        \r\n         dialog: false,\r\n         user: {\r\n             name: \"\",\r\n             email: \"\",\r\n             password: \"\",\r\n             estado: \"A\",\r\n             idtipo_usuario: 2 \r\n         },\r\n         login:{\r\n             email: \"\",\r\n             password: \"\",\r\n         },\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'accessToken'\r\n       \r\n        \r\n      ])\r\n    },\r\n    \r\n    \r\n    methods: {\r\n      ...mapActions([\r\n      \r\n    ]),\r\n      \r\n\r\n      \r\n        //Metodo registro de usuarios con token listo\r\n        fetchUsuarios() {\r\n            let me = this;\r\n            \r\n            me.$http\r\n            .post(`${me.$url}/users`, me.user )\r\n            .then(function(response){\r\n              me.dialog = false\r\n              alert(\"REGistrado con exito\")\r\n                console.log(response.data)\r\n            })\r\n            .catch(function(error){\r\n              console.log(error);\r\n            });\r\n          },\r\n      //Login de usuario por medio de token falta mejorar el la autenticacion agregar estado\r\n      //para implementar la logica\r\n        loginUsuario(){\r\n        let me = this;\r\n        \r\n            me.$http\r\n            .post(`${me.$url}/login`, me.login)\r\n            .then(function(response){\r\n              if(response.status==200){\r\n                let x = response.data.token;\r\n                me.$store.state.token = localStorage.setItem('token',x);\r\n                console.log(response.data);\r\n                console.log(x);\r\n                alert(\"Bienvenido al sistema\");\r\n              }\r\n              \r\n            })\r\n            .catch(function(error){\r\n              console.log(error);\r\n            });\r\n          },\r\n           logout(){\r\n             let x = localStorage.getItem('token');\r\n            let me = this,\r\n            header = {\r\n              headers: {\r\n                \"Authorization\": \"Bearer \"+ x,\r\n              },\r\n            };\r\n            \r\n            console.log(x)\r\n             me.$http.get(`${me.$url}/logout`,header)\r\n            .then(function(response){ \r\n               if(response.status==200){ \r\n                  localStorage.clear();           \r\n                  alert(\"Adios\");\r\n                console.log(response.data);\r\n               }                        \r\n            })\r\n            .catch(function(error){              \r\n              console.log(error);\r\n            });\r\n          },\r\n          \r\n\r\n\r\n           \r\n        \r\n    },\r\n    \r\n\r\n    mounted(){\r\n     \r\n     \r\n    },\r\n  };\r\n</script>"]}]}